---
title: 时间复杂度和空间复杂度
---

import { RenderImg } from '@site/src/common'

## 1. 什么是复杂度

* 程序执行时需要的计算量和内存空间（和代码简洁无关）
* 复杂度是一个** 数量级 **不是具体的数字
* 复杂度针对的是一个具体的算法，而非一个完整的系统

## 3. 时间复杂度

表示代码的运行时间,通过代码的执行次数来表示，大`O`时间复杂度表示法 实际上并不具体表示代码真正的执行时间，而是表示代码执行时间随数据规模增长的变化趋势，所以也叫渐进时间复杂度，简称时间复杂度。记作:

`T(n) = O(f(n))`
`n` 表示** 数据规模的大小 **,`f(n)` 表示 ** 每行代码执行的次数总和 **。因为这是一个公式，所以用`f(n)` 来表示。公式中的`O`，表示代码的执行时间`T(n)`与`f(n)`表达式成正比。

下面通过案例分析时间复杂度：

```js
function sum(n) {
  const value = 0; // 1
  const i = 1;     // 2
  while (i <= n) { // 3
     value = value + i; // 4
     i++; // 5
  }
  return value; // 6
}
/**
假设n=100，该方法的执行次数为：
1 (1次)、2（1次）、3（100次）、4（100次）、5（100次）、6（1次），
合计1+1+100+100+100+1 = 303次
**/
```
如果用函数来表示为：`f(n) = 3n+3`，那么在计算机算法中的表示方法如下:
即：`T(n) = O(3n+3)`

这里有个重要的点就是** 时间复杂度关心的是数量级 **，其原则是：

* 省略常数，如果运行时间是常数量级，用常数1表示
* 保留最高阶的项
* 变最高阶项的系数为1


如 `2n^3 + 3n^2 + 7`，省略常数变为 `O(2n^3 + 3n^2)`，保留最高阶的项为 `O(2n^3)`，变最高阶项的系数为1后变为`O(n)`，即`O(n^3)`为`2n^3 + 3n^2 + 7`的时间复杂度。
同理，在上面的程序中 `T(n) = O(3n+3)`，其时间复杂度为`O(n)`。

:::tip 数量级
* 成年人的身高大概都在1.6 - 2米之间，
* 每年的年收入在10万左右等

即都在同一个数量级之间，数值虽然不同，但是相差不是很大
:::

## 3. 空间复杂度
空间复杂度是对一个算法在运行过程中临时占用存储空间大小的一个量度：包括3个部分
* 算法程序所占的空间；
* 输入的初始数据所占的存储空间；
* 算法执行过程中所需要的额外空间。

与时间复杂度类似，空间复杂度是指算法在计算机内执行时所需存储空间的度量。记作:

`S(n)=O(f(n))`

## 4. 复杂度分析
常见的复杂度有

* `O(1)`：Constant Complexity 常数复杂度
* `O(log n)`：Logarithmic ComPlexity 对数复杂度
* `O(n)`：Linear ComPlexity 线性时间复杂度
* `O(n^2)`：N square ComPlexity 平方
* `O(n^3)`：N cubic ComPlexity 立方
* `O(2^n)`：Exponential Growth 指数
* `O(n!)`：Factorial 阶乘


<RenderImg
  width="400px"
  src={require('./img/WeChatd50e9d5ecd0a69c1c3b2c8a4b62e92f8.jpg')}
  />


## 5. logN的底
1、如果`a(a>0，且a≠1)`的`b`次幂等于`N`，即`a^b=N`，那么数b叫做以`a`为底`N`的对数，记作：`logaN=b`,其中`a`叫做对数的底数，`N`叫做真数。

2、以`10`为底的对数叫常用对数，记作`log10N`，简记为`lgN`；

3、以无理数`e(e=2.718 28…)`为底的对数叫做自然对数，记作`logeN`，简记为`lnN`。

`log`不写底数的时候，有默认的底数，物理上常用`e`，编程语言中`Math.log`常用`e`。
一般数学计算中常用`10`，数学学科里面的规矩，通通都是`e`，特别是在数论里面，基本上不用`ln`，都用`log`。
编程比赛`OI`中一般都是以`2`为底，计算时间复杂度的时候一般是默认`log2`。
在计算时间复杂度的时候，你会发现 ** log的底数并不重要 **，底数的巨大变化并不会带来结果上的 ** 数量级 **变化。

<RenderImg
  width="400px"
  src={require('./img/20191203145801554.png')}
  />

假设有底数为2和3的两个对数函数，如上图。当X取N（数据规模）时，求所对应的时间复杂度得比值，即对数函数对应的y值，用来衡量对数底数对时间复杂度的影响。

比值为log2 N / log3 N，运用换底公式后得：(lnN/ln2) / (lnN/ln3) = ln3 / ln2，ln为自然对数，显然这是个常数，与变量N无关。

用文字表述：算法时间复杂度为log（n）时，不同底数对应的时间复杂度的倍数关系为常数，不会随着底数的不同而不同，因此可以将不同底数的对数函数所代表的时间复杂度，当作是同一类复杂度处理，即抽象成一类问题。

当然这里的底数2和3可以用a和b替代，a，b大于等于2，属于整数。a,b取值是如何确定的呢？

有点编程经验的都知道，分而治之的概念。排序算法中有一个叫做“归并排序”或者“合并排序”的算法，它用到的就是分而治之的思想，而它的时间复杂度就是N*logN，此算法采用的是二分法，所以可以认为对应的对数函数底数为2，也有可能是三分法，底数为3，以此类推。

但是不可能是分数或者负数。




